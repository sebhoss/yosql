<!doctype html><html lang=en><head><meta charset=utf-8><meta content="metio.wtf" name=author><meta content="YoSQL - write more SQL" name=subject><meta content="Write more SQL" name=description><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:title" content="Converters"><meta property="og:description" content="Changing the result type is possible with the help of a converter:
-- parameters: -- - name: userId -- type: int -- results: -- converter: my.own.UserConverter -- resultType: my.own.User SELECT * FROM users WHERE id = :userId Which in turn changes the generated code into this:
// uses 'User' instead of 'ResultRow' & 'int' instead of 'Object' List<User> findUser(int userId) Stream<User> findUserStreamEager(int userId) Stream<User> findUserStreamLazy(int userId) Flowable<User> findUserFlow(int userId) my.own.UserConverter could look like this:"><meta property="og:type" content="article"><meta property="og:url" content="https://yosql.projects.metio.wtf/integration/converters/"><meta property="article:section" content="integration"><meta property="article:published_time" content="2019-07-07T14:29:29+02:00"><meta property="article:modified_time" content="2019-07-07T14:29:29+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Converters"><meta name=twitter:description content="Changing the result type is possible with the help of a converter:
-- parameters: -- - name: userId -- type: int -- results: -- converter: my.own.UserConverter -- resultType: my.own.User SELECT * FROM users WHERE id = :userId Which in turn changes the generated code into this:
// uses 'User' instead of 'ResultRow' & 'int' instead of 'Object' List<User> findUser(int userId) Stream<User> findUserStreamEager(int userId) Stream<User> findUserStreamLazy(int userId) Flowable<User> findUserFlow(int userId) my.own.UserConverter could look like this:"><meta itemprop=name content="Converters"><meta itemprop=description content="Changing the result type is possible with the help of a converter:
-- parameters: -- - name: userId -- type: int -- results: -- converter: my.own.UserConverter -- resultType: my.own.User SELECT * FROM users WHERE id = :userId Which in turn changes the generated code into this:
// uses 'User' instead of 'ResultRow' & 'int' instead of 'Object' List<User> findUser(int userId) Stream<User> findUserStreamEager(int userId) Stream<User> findUserStreamLazy(int userId) Flowable<User> findUserFlow(int userId) my.own.UserConverter could look like this:"><meta itemprop=datePublished content="2019-07-07T14:29:29+02:00"><meta itemprop=dateModified content="2019-07-07T14:29:29+02:00"><meta itemprop=wordCount content="114"><meta itemprop=keywords content="results,"><link href=https://yosql.projects.metio.wtf/integration/converters/ rel=canonical><link href=https://yosql.projects.metio.wtf/atom.xml rel=alternate title="YoSQL - write more SQL Atom" type=application/atom+xml><link href=https://yosql.projects.metio.wtf/index.xml rel=alternate title="YoSQL - write more SQL RSS" type=application/rss+xml><link href=https://yosql.projects.metio.wtf/sitemap.xml rel=sitemap title="YoSQL - write more SQL Sitemap" type=application/xml><link rel=author href=https://yosql.projects.metio.wtf/humans.txt><link rel=alternate type=application/rdf+xml title=FOAF href=https://yosql.projects.metio.wtf/foaf.rdf><link rel=license href=https://creativecommons.org/publicdomain/zero/1.0/><link href=https://yosql.projects.metio.wtf/css/mobile.min.5b565d9ee4f82063e3be2217411388d7a3e3640a6341b876716e9e48b4fb22b0dc085443184bf7621a421e3f826d2066f8a8710eb71cbae8ce89a0ce712529ea.css integrity="sha512-W1ZdnuT4IGPjviIXQROI16PjZApjQbh2cW6eSLT7IrDcCFRDGEv3YhpCHj+CbSBm+KhxDrccuujOiaDOcSUp6g==" media="screen and (max-width: 800px)" rel=stylesheet><link href=https://yosql.projects.metio.wtf/css/tablet.min.7373e1ccde55ebd352a1a8ff2aa253abe0a1a30e360fe64f07145188a576ad62a4456953efa4810267137f615e0d414238b12f652ec4ae27750f14005c423449.css integrity="sha512-c3PhzN5V69NSoaj/KqJTq+Chow42D+ZPBxRRiKV2rWKkRWlT76SBAmcTf2FeDUFCOLEvZS7Erid1DxQAXEI0SQ==" media="screen and (min-width: 801px) and (max-width: 1199px)" rel=stylesheet><link href=https://yosql.projects.metio.wtf/css/desktop.min.47bdb6726e01838124dc7f79ef398034fdf73d4a54e5289a8014e1bf5eebae0e4feabae4f3c620c2ac7577c60616ff6cc9339fd516c576c660dd86f6cedacb2f.css integrity="sha512-R722cm4Bg4Ek3H957zmANP33PUpU5SiagBThv17rrg5P6rrk88Ygwqx1d8YGFv9syTOf1RbFdsZg3Yb2ztrLLw==" media="screen and (min-width: 1200px)" rel=stylesheet><link href=https://yosql.projects.metio.wtf/css/darkmode.min.2a5ba1ebf79d23ac725522a486af2ffebf831a4a634fc1471a4b0007daa25afb4417f20dc4cf0e2c1eeb8eb704183160ff9aaf84e060180993fe1e010ac6907f.css integrity="sha512-Kluh6/edI6xyVSKkhq8v/r+DGkpjT8FHGksAB9qiWvtEF/INxM8OLB7rjrcEGDFg/5qvhOBgGAmT/h4BCsaQfw==" media="screen and (prefers-color-scheme: dark)" rel=stylesheet><title>YoSQL - write more SQL &ndash; Converters</title></head><body id=site><header id=header><h1 id=projectname><a id=rootlink href=https://yosql.projects.metio.wtf/>YoSQL - write more SQL</a>
<a href=https://yosql.projects.metio.wtf/sitemap/ title="show me all pages" id=sitemaplink><img class=svgimg src=https://yosql.projects.metio.wtf/images/sitemap.svg alt=sitemap width=30 height=30></a></h1><span id=actions><a href=https://matrix.to/#/%23yosql%3amatrix.org id=matrix title="lets talk"><img class=svgimg src=https://yosql.projects.metio.wtf/images/matrix.svg alt=matrix width=32 height=32></a>
<a href=https://metio.groups.io/g/yosql/topics id=email title="i want to write you an email"><img class=svgimg src=https://yosql.projects.metio.wtf/images/email.svg alt=email width=32 height=32></a>
<a href=https://github.com/metio/yosql id=github title="want some code?"><img class=svgimg src=https://yosql.projects.metio.wtf/images/github.svg alt=github width=32 height=32></a>
<a href=https://metio.groups.io/g/yosql/calendar id=calendar title="release calendar"><img class=svgimg src=https://yosql.projects.metio.wtf/images/calendar.svg alt=github width=32 height=32></a>
<a href=https://yosql.projects.metio.wtf/atom.xml id=newsfeed title="get notified about updates"><img class=svgimg src=https://yosql.projects.metio.wtf/images/rss.svg alt=newsfeed width=32 height=32></a></span></header><nav id=navigation><ul><h3 class="mobileonly menutitle">Links</h3><li class=mobileonly><a href=https://yosql.projects.metio.wtf/>Home</a></li><li class=mobileonly><a href=https://matrix.to/#/%23yosql%3amatrix.org>Let's talk on Matrix</a></li><li class=mobileonly><a href=mailto:https://metio.groups.io/g/yosql/topics>Send an email</a></li><li class=mobileonly><a href=https://github.com/metio/yosql>See some code at GitHub</a></li><li class=mobileonly><a href=https://metio.groups.io/g/ilo/calendar>Check the release calendar</a></li><li class=mobileonly><a href=https://yosql.projects.metio.wtf/atom.xml>Subscribe to the Atom feed</a></li><li class=mobileonly><a href=https://yosql.projects.metio.wtf/sitemap/>See all pages at the sitemap</a></li><hr class="mobileonly menudivider"><h3 class="mobile-and-tablet menutitle">Navigation</h3><li><a href=/api/>APIs</a><ul><li><a href=/api/jdbc/>JDBC</a></li><li><a href=/api/jooq/>jOOQ</a></li><li><a href=/api/jpa/>JPA</a></li><li><a href=/api/spring_data_jdbc/>Spring-Data-JDBC</a></li><li><a href=/api/spring_jdbc/>Spring-JDBC</a></li></ul></li><li><a href=/configuration/>Configuration</a><ul><li><a href=/configuration/annotations/>Annotations</a></li><li><a href=/configuration/repositories/>Repositories</a></li></ul></li><li><a href=/integration/ class=active>Integration</a><ul><li class=active><a href=/integration/converters/>Converters</a></li><li><a href=/integration/custom/>Custom</a></li><li><a href=/integration/reactive/>Reactive</a></li><li><a href=/integration/type-safety/>Type Safety</a></li></ul></li><li><a href=/logging/>Logging</a><ul><li><a href=/logging/jul/>JUL</a></li><li><a href=/logging/log4j/>log4j</a></li><li><a href=/logging/no-op/>no-op</a></li><li><a href=/logging/slf4j/>slf4j</a></li></ul></li><li><a href=/project/>Project</a><ul><li><a href=/project/alternatives/>Alternatives</a></li><li><a href=/project/scope-and-vision/>Scope and Vision</a></li></ul></li><li><a href=/sql/>SQL</a><ul><li><a href=/sql/vendor-statements/>Vendor Statements</a></li><li><a href=/sql/write-sql-files/>Write Sql Files</a></li></ul></li><li><a href=/tooling/>Tooling</a><ul><li><a href=/tooling/bazel/>Bazel</a></li><li><a href=/tooling/cli/>CLI</a></li><li><a href=/tooling/maven/>Maven</a></li></ul></li></ul></nav><main id=content><h1 class=post-titel><a href=https://yosql.projects.metio.wtf/integration/converters/>Converters</a>
<a href=https://github.com/metio/ilo/commits/master/docs/content/integration/converters.md><img src=https://yosql.projects.metio.wtf/images/history.svg height=16 width=14 class="icon svgimg"></a>
<a href=https://github.com/metio/ilo/edit/master/docs/content/integration/converters.md><img src=https://yosql.projects.metio.wtf/images/pencil.svg height=16 width=14 class="icon svgimg"></a></h1><div class=subtitle>Talks about:
<a class="post-tag post-tag-results" href=/tags/results>results</a></div><div id=post-content><p>Changing the result type is possible with the help of a converter:</p><div class=highlight><pre class=chroma><code class=language-sql data-lang=sql><span class=c1>-- parameters:
</span><span class=c1>--   - name: userId
</span><span class=c1>--     type: int
</span><span class=c1>-- results:
</span><span class=c1>--   converter: my.own.UserConverter
</span><span class=c1>--   resultType: my.own.User
</span><span class=c1></span><span class=k>SELECT</span>  <span class=o>*</span>
<span class=k>FROM</span>    <span class=n>users</span>
<span class=k>WHERE</span>   <span class=n>id</span> <span class=o>=</span> <span class=p>:</span><span class=n>userId</span>
</code></pre></div><p>Which in turn changes the generated code into this:</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=c1>// uses &#39;User&#39; instead of &#39;ResultRow&#39; &amp; &#39;int&#39; instead of &#39;Object&#39;
</span><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=nf>findUser</span><span class=o>(</span><span class=kt>int</span> <span class=n>userId</span><span class=o>)</span>
<span class=n>Stream</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=nf>findUserStreamEager</span><span class=o>(</span><span class=kt>int</span> <span class=n>userId</span><span class=o>)</span>
<span class=n>Stream</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=nf>findUserStreamLazy</span><span class=o>(</span><span class=kt>int</span> <span class=n>userId</span><span class=o>)</span>
<span class=n>Flowable</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=nf>findUserFlow</span><span class=o>(</span><span class=kt>int</span> <span class=n>userId</span><span class=o>)</span>
</code></pre></div><p><code>my.own.UserConverter</code> could look like this:</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=kn>package</span> <span class=nn>my.own</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>java.sql.ResultSet</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>java.sql.SQLException</span><span class=o>;</span>

<span class=kn>import</span> <span class=nn>my.own.User</span><span class=o>;</span>
<span class=kn>import</span> <span class=nn>my.own.persistence.util.ResultState</span><span class=o>;</span>

<span class=kd>public</span> <span class=kd>class</span> <span class=nc>UserConverter</span> <span class=o>{</span>

    <span class=kd>public</span> <span class=kd>final</span> <span class=n>User</span> <span class=nf>asUserType</span><span class=o>(</span><span class=kd>final</span> <span class=n>ResultState</span> <span class=n>result</span><span class=o>)</span> <span class=kd>throws</span> <span class=n>SQLException</span> <span class=o>{</span>
        <span class=kd>final</span> <span class=n>ResultSet</span> <span class=n>resultSet</span> <span class=o>=</span> <span class=n>result</span><span class=o>.</span><span class=na>getResultSet</span><span class=o>();</span>
        <span class=kd>final</span> <span class=n>User</span> <span class=n>pojo</span> <span class=o>=</span> <span class=k>new</span> <span class=n>User</span><span class=o>();</span>
        <span class=n>pojo</span><span class=o>.</span><span class=na>setId</span><span class=o>(</span><span class=n>resultSet</span><span class=o>.</span><span class=na>getInt</span><span class=o>(</span><span class=s>&#34;id&#34;</span><span class=o>));</span>
        <span class=n>pojo</span><span class=o>.</span><span class=na>setName</span><span class=o>(</span><span class=n>resultSet</span><span class=o>.</span><span class=na>getString</span><span class=o>(</span><span class=s>&#34;name&#34;</span><span class=o>));</span>
        <span class=k>return</span> <span class=n>pojo</span><span class=o>;</span>
    <span class=o>}</span>

<span class=o>}</span>
</code></pre></div></div></main><footer id=footer><p xmlns:dct=http://purl.org/dc/terms/ xmlns:vcard=http://www.w3.org/2001/vcard-rdf/3.0#><a rel=license href=https://creativecommons.org/publicdomain/zero/1.0/><img src=https://yosql.projects.metio.wtf/images/cc0.png style=border-style:none alt=CC0 width=88px height=31px></a><br>To the extent possible under law,
<a rel=dct:publisher href=https://yosql.projects.metio.wtf/><span property="dct:title">metio.wtf</span></a>
has waived all copyright and related or neighboring rights to
<span property="dct:title">yosql.projects.metio.wtf</span>.
This work is published from:
<span property="vcard:Country" datatype="dct:ISO3166" content="EN" about="https://yosql.projects.metio.wtf/">Germany</span></p></footer></body></html>